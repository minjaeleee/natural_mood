{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nconst useInfiniteScroll = targetEl => {\n  _s();\n  // const obs useRef(null)\n  let obs;\n  const [intersecting, setIntersecting] = useState(false);\n  const getObserver = useCallback(() => {\n    if (!obs) {\n      obs = new IntersectionObserver(entries => {\n        setIntersecting(\n        // 없으면 intersecting false, 있으면 intersecting true\n        entries.some(entry => entry.isIntersecting));\n      });\n    }\n    console.log(obs);\n    return obs;\n  }, [obs]);\n  useEffect(() => {\n    if (targetEl.current) getObserver().observe(targetEl.current);\n    return () => {\n      getObserver().disconnect();\n    };\n  }, [targetEl.current]);\n  return intersecting;\n};\n_s(useInfiniteScroll, \"xSL0iP4oTqRYAIpqfpQZ9ekxhsg=\");\nexport default useInfiniteScroll;","map":{"version":3,"names":["useState","useEffect","useCallback","useInfiniteScroll","targetEl","_s","obs","intersecting","setIntersecting","getObserver","IntersectionObserver","entries","some","entry","isIntersecting","console","log","current","observe","disconnect"],"sources":["/Users/minjaelee/Desktop/development/natural_mood/src/useHook/useInfiniteScroll.tsx"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from 'react'\n\nconst useInfiniteScroll = targetEl => {\n  // const obs useRef(null)\n  let obs;\n  const [intersecting, setIntersecting] = useState(false)\n\n  const getObserver = useCallback(() => {\n    if (!obs) {\n      obs = new IntersectionObserver(entries => {\n        setIntersecting(\n        // 없으면 intersecting false, 있으면 intersecting true\n        entries.some(entry => entry.isIntersecting)\n      )}\n    )\n    }\n    console.log(obs)\n    return obs\n  }, [obs])\n\n  useEffect(() => {\n    if (targetEl.current) getObserver().observe(targetEl.current)\n    return () => {\n      getObserver().disconnect()\n    }\n  }, [targetEl.current])\n\n  return intersecting\n}\n\nexport default useInfiniteScroll"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAUC,WAAW,QAAQ,OAAO;AAEhE,MAAMC,iBAAiB,GAAGC,QAAQ,IAAI;EAAAC,EAAA;EACpC;EACA,IAAIC,GAAG;EACP,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMS,WAAW,GAAGP,WAAW,CAAC,MAAM;IACpC,IAAI,CAACI,GAAG,EAAE;MACRA,GAAG,GAAG,IAAII,oBAAoB,CAACC,OAAO,IAAI;QACxCH,eAAe;QACf;QACAG,OAAO,CAACC,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,cAAc,CAAC,CAC5C;MAAA,CAAC,CACH;IACD;IACAC,OAAO,CAACC,GAAG,CAACV,GAAG,CAAC;IAChB,OAAOA,GAAG;EACZ,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;EAETL,SAAS,CAAC,MAAM;IACd,IAAIG,QAAQ,CAACa,OAAO,EAAER,WAAW,EAAE,CAACS,OAAO,CAACd,QAAQ,CAACa,OAAO,CAAC;IAC7D,OAAO,MAAM;MACXR,WAAW,EAAE,CAACU,UAAU,EAAE;IAC5B,CAAC;EACH,CAAC,EAAE,CAACf,QAAQ,CAACa,OAAO,CAAC,CAAC;EAEtB,OAAOV,YAAY;AACrB,CAAC;AAAAF,EAAA,CA1BKF,iBAAiB;AA4BvB,eAAeA,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}